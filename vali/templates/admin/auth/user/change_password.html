{% extends "admin/base_site.html" %}
{% load i18n static %}
{% load admin_urls %}

{% block extrahead %}{{ block.super }}
<script type="text/javascript" src="{% url 'admin:jsi18n' %}"></script>
{% endblock %}
{% block extrastyle %}{{ block.super }}<link rel="stylesheet" type="text/css" href="{% static 'admin/css/forms.css' %}" />
<style>

</style>
{% endblock %}
{% block bodyclass %}{{ block.super }} {{ opts.app_label }}-{{ opts.model_name }} change-form{% endblock %}
{% if not is_popup %}
{%block appheader%}{% endblock %}
{% block aside %}{% endblock %}
{% block coltype %}colM{% endblock %}
{% block content_title %}
<div class="app-title" style="margin: 0px 0px;position:relative;z-index:1020;padding:10px 20px">
    {% if title %}
        <div>
            <a class="btn btn-outline-info" href="javascript:history.back()">
                <i class="fa fa-chevron-left"></i>
            返回【{{ opts.verbose_name_plural|capfirst }}:{{ original }}】
            </a>
            {# <p>{{ title }}</p> #}
        </div>
    {% endif %}
</div>
{% endblock %}
{% block title %}{{ title }}{% endblock %}
{% block breadcrumbs %}{% endblock %}
{% endif %}
{% block content %}
<div id="content-main">
<form action="{{ form_url }}" method="post" id="{{ opts.model_name }}_form">{% csrf_token %}{% block form_top %}{% endblock %}
    <div class="row">
        <input type="text" name="username" value="{{ original.get_username }}" style="display: none" />
            {% if is_popup %}<input type="hidden" name="_popup" value="1" />{% endif %}


            <div class="col-md-9">
                {% if form.errors %}
                <div class="alert alert-dismissible alert-danger">
                     <button class="close" type="button" data-dismiss="alert">×</button>
                {% if form.errors.items|length == 1 %}{% trans "Please correct the error below." %}{% else %}{% trans "Please correct the errors below." %}{% endif %}
                </div>
            {% endif %}
                <fieldset class="tile module aligned">
                    <p>{% blocktrans with username=original %}Enter a new password for the user <strong>{{ username }}</strong>.{% endblocktrans %}</p>

                    <div class="form-row row">
                        {% if form.password1.errors %}
                        <div class="alert alert-dismissible alert-danger col-md-12">{{ form.password1.errors }}</div>
                        {% endif %}
                        {{ form.password1.label_tag }}
                        <div class="col-md-3">
                            <input autofocus="" id="id_password1" name="password1" type="password" required="" class="form-control">
                        </div>
                        {% if form.password1.help_text %}
                        <div class="help col-md-4">{{ form.password1.help_text|safe }}</div>
                        {% endif %}
                    </div>

                    <div class="form-row row">
                        {% if form.password2.errors %}
                        <div class="alert alert-dismissible alert-danger col-md-12">{{ form.password2.errors }}</div>
                        {% endif %}
                      {{ form.password2.label_tag }}
                        <div class="col-md-3">
                            <input id="id_password2" name="password2" type="password" required="" class="form-control">
                        </div>
                      {% if form.password2.help_text %}
                      <div class="help col-md-4">{{ form.password2.help_text|safe }}</div>
                      {% endif %}
                    </div>

                </fieldset>
            </div>
            <div class="col-md-3">
                <div class="tile formtoolbox">
                    <div class="btn-group-vertical col-md-12">
                <input type="submit" value="{% trans 'Change password' %}" class="btn btn-primary" />
                        </div>
                </div>
            </div>

    </div>
</form>
</div>
{% endblock %}
